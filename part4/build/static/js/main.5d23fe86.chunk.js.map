{"version":3,"sources":["reducers/notificationReducer.js","reducers/userLoginReducer userLoginReducer.js","services/login.js","services/blogs.js","components/Login.js","components/Toggable.js","reducers/blogsReducer.js","components/BlogForm.js","services/users.js","reducers/usersInfoReducer.js","components/BlogList.js","components/UserList.js","components/Logout.js","components/Blog.js","components/User.js","App.js","reducers/toggableReducer.js","index.js"],"names":["notificationCreator","message","dispatch","a","type","notification","notificationReducer","state","action","userLoginSetter","userToSet","user","userLoginReducer","login","axios","post","response","data","baseUrl","token","getAll","get","then","create","blog","config","headers","Authorization","setToken","tokenFromUser","likeBlog","blogId","put","deleteBlog","delete","Login","onLogin","useState","username","setUsername","password","setPassword","useDispatch","useEffect","isMounted","loggedUserJSON","window","localStorage","getItem","JSON","parse","blogService","loginSubmit","event","preventDefault","userToLogin","loginService","loggedUser","console","log","setItem","stringify","setTimeout","onSubmit","className","name","id","value","onChange","target","Toggable","React","forwardRef","props","ref","formVisible","setFormVisible","handleCreateBlogClick","useImperativeHandle","style","display","btnLabel","onClick","children","displayName","blogCreator","blogToPost","blogLiker","blogRemover","blogsReducer","concat","blogs","map","likes","filter","CreateForm","onBlogPost","title","setTitle","url","setUrl","author","setAuthor","postBlog","details","error","getOne","usersInfoReducer","users","BlogList","useSelector","sort","b","to","UserList","usersInfo","length","Logout","removeItem","clear","Blog","userLoggedIn","userLogged","useParams","find","removeBlog","blogToRemove","confirm","like","blogToLike","href","User","Home","App","blogsToInitialize","userServices","loginRef","useRef","blogRef","path","current","toggleReducer","reducer","combineReducers","visible","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"8NAAaA,EAAsB,SAACC,GAClC,8CAAO,WAAMC,GAAN,SAAAC,EAAA,sDACLD,EAAS,CACPE,KAAM,+BACNC,aAAcJ,IAHX,2CAAP,uDAiBaK,EATa,WAAyB,IAAxBC,EAAuB,uDAAf,GAAIC,EAAW,uCAClD,OAAQA,EAAOJ,MACf,IAAK,+BACH,OAAOI,EAAOH,aAChB,QACE,OAAOE,ICbEE,EAAkB,SAACC,GAC9B,8CAAO,WAAMR,GAAN,SAAAC,EAAA,sDACLD,EAAS,CACPE,KAAM,gBACNO,KAAMD,IAHH,2CAAP,uDAiBaE,EATU,WAAuB,IAAtBL,EAAqB,uDAAf,GAAIC,EAAW,uCAC7C,OAAQA,EAAOJ,MACf,IAAK,gBACH,OAAOI,EAAOG,KAChB,QACE,OAAOJ,I,iBCNI,GAAEM,MALN,uCAAG,WAAOF,GAAP,eAAAR,EAAA,sEACWW,IAAMC,KAHf,aAG6BJ,GAD/B,cACNK,EADM,yBAELA,EAASC,MAFJ,2CAAH,uDCHLC,EAAU,aAEZC,EAAQ,KA6CG,GAAEC,OAvCF,WAEb,OADgBN,IAAMO,IAAIH,GACXI,MAAK,SAAAN,GAAQ,OAAIA,EAASC,SAqClBM,OAlCb,uCAAG,WAAOC,GAAP,iBAAArB,EAAA,6DACPsB,EAAS,CACbC,QAAS,CACPC,cAAeR,IAHN,SAMUL,IAAMC,KAAKG,EAASM,EAAMC,GANpC,cAMPT,EANO,yBAONA,EAASC,MAPH,2CAAH,sDAkCqBW,SA3ChB,SAACC,GAChBV,EAAK,iBAAaU,IA0CuBC,SAxB7B,uCAAG,WAAOC,GAAP,iBAAA5B,EAAA,0DACXgB,EADW,uBAEPM,EAAS,CACbC,QAAS,CACPC,cAAeR,IAJN,SAOUL,IAAMkB,IAAN,UAAad,EAAb,YAAwBa,GAAUN,GAP5C,cAOPT,EAPO,yBAQNA,EAASC,MARH,2CAAH,sDAwBuCgB,WAZrC,uCAAG,WAAOF,GAAP,iBAAA5B,EAAA,0DACbgB,EADa,uBAETM,EAAS,CACbC,QAAS,CACPC,cAAeR,IAJJ,SAOQL,IAAMoB,OAAN,UAAgBhB,EAAhB,YAA2Ba,GAAUN,GAP7C,cAOTT,EAPS,yBAQRA,EAASC,MARD,2CAAH,uD,OC2BDkB,EAtDD,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACf,EAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACMvC,EAAWwC,cAEjBC,qBAAU,WACR,IAAIC,GAAY,EACVC,EAAiBC,OAAOC,aAAaC,QAAQ,kBACnD,GAAIJ,GAAaC,EAAgB,CAC/B,IAAMlC,EAAOsC,KAAKC,MAAML,GACxB3C,EAASO,EAAgBE,IACzBwC,EAAYvB,SAASjB,EAAKQ,OAE5B,OAAO,WAAQyB,GAAY,KAC1B,IAEH,IAAMQ,EAAW,uCAAG,WAAOC,GAAP,iBAAAlD,EAAA,6DAClBkD,EAAMC,iBACAC,EAAc,CAClBjB,SAAUA,EACVE,SAAUA,GAJM,SAOhBJ,EAAQmB,GAPQ,SAQSC,EAAa3C,MAAM0C,GAR5B,cAQVE,EARU,OAShBC,QAAQC,IAAIF,GACZvD,EAASO,EAAgBgD,IACzBX,OAAOC,aAAaa,QAAQ,iBAAkBX,KAAKY,UAAUJ,IAX7C,kBAYTA,GAZS,kCAchBC,QAAQC,IAAR,MACAzD,EAASF,EAAoB,iCAC7B8D,YAAW,WAAQ5D,EAASF,EAAoB,OAAQ,KAhBxC,QAkBlBuC,EAAY,IACZE,EAAY,IAnBM,0DAAH,sDAuBjB,OACE,8BACE,uBAAMsB,SAAUX,EAAhB,sBACW,uBAAOhD,KAAK,OAAO4D,UAAU,WAAWC,KAAK,WAAWC,GAAG,cAAcC,MAAO7B,EAAU8B,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgB9B,EAAY8B,EAAOF,UAAU,uBAD5J,YAEW,uBAAO/D,KAAK,OAAO4D,UAAU,WAAWC,KAAK,WAAWC,GAAG,cAAcC,MAAO3B,EAAU4B,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgB5B,EAAY4B,EAAOF,UAChJ,uBAAO/D,KAAK,SAAS6D,KAAK,SAASC,GAAG,aAAaC,MAAM,iBC/C3DG,EAAWC,IAAMC,YAAW,SAACC,EAAOC,GACxC,MAAsCrC,oBAAS,GAA/C,mBAAOsC,EAAP,KAAoBC,EAApB,KAEMC,EAAwB,WAC5BD,GAAgBD,IASlB,OANAG,8BAAoBJ,GAAK,WACvB,MAAO,CACLG,4BAKF,gCACE,qBAAKE,MAAO,CAAEC,QAASL,EAAc,OAAS,IAA9C,SACE,uBAAOX,UAAWS,EAAMQ,SAAU7E,KAAK,SAAS+D,MAAOM,EAAMQ,SAAUC,QAASL,MAElF,sBAAKE,MAAO,CAAEC,QAASL,EAAc,GAAK,QAAUX,UAAU,aAA9D,UACGS,EAAMU,SACP,uBAAO/E,KAAK,SAAS+D,MAAM,SAASe,QAASL,aAMrDP,EAASc,YAAc,WAGRd,QCjCFe,EAAc,SAACC,GAC1B,8CAAO,WAAMpF,GAAN,SAAAC,EAAA,sEACCgD,EAAY5B,OAAO+D,GADpB,OAELpF,EAAS,CACPE,KAAM,cACNoB,KAAM8D,IAJH,2CAAP,uDAkBWC,EAAY,SAACxD,GACxB,8CAAO,WAAM7B,GAAN,SAAAC,EAAA,sEACCgD,EAAYrB,SAASC,GADtB,OAEL7B,EAAS,CACPE,KAAM,YACN8D,GAAInC,IAJD,2CAAP,uDASWyD,EAAc,SAACzD,GAC1B,8CAAO,WAAM7B,GAAN,SAAAC,EAAA,sEACCgD,EAAYlB,WAAWF,GADxB,OAEL7B,EAAS,CACPE,KAAM,cACN8D,GAAInC,IAJD,2CAAP,uDAqCa0D,EApBM,WAAyB,IAAxBlF,EAAuB,uDAAf,GAAIC,EAAW,uCAC3C,OAAQA,EAAOJ,MACf,IAAK,cACH,OAAOG,EAAMmF,OAAOlF,EAAOgB,MAC7B,IAAK,kBACH,OAAOhB,EAAOmF,MAChB,IAAK,YACH,OAAOpF,EAAMqF,KAAI,SAAApE,GAIf,OAHIhB,EAAO0D,KAAO1C,EAAK0C,KACrB1C,EAAKqE,OAAS,GAETrE,KAEX,IAAK,cACH,OAAOjB,EAAMuF,QAAO,SAAAtE,GAAI,OAAIA,EAAK0C,KAAO1D,EAAO0D,MACjD,QACE,OAAO3D,ICXIwF,EAhDI,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACpB,EAA0B3D,mBAAS,IAAnC,mBAAO4D,EAAP,KAAcC,EAAd,KACA,EAAsB7D,mBAAS,IAA/B,mBAAO8D,EAAP,KAAYC,EAAZ,KACA,EAA4B/D,mBAAS,IAArC,mBAAOgE,EAAP,KAAeC,EAAf,KACMpG,EAAWwC,cAOX6D,EAAQ,uCAAG,WAAOlD,GAAP,eAAAlD,EAAA,sDACfkD,EAAMC,iBACN,IACE0C,IAOA9F,EAASmF,EANHC,EAAa,CACjBW,MAAOA,EACPI,OAAQA,EACRF,IAAKA,EACLK,SAAS,KAGXtG,EAASF,EAAoB,cAAD,OAAesF,EAAWW,MAA1B,eAAsCX,EAAWe,UAC7EvC,YAAW,WAAQ5D,EAASF,EAAoB,OAAQ,KAhB1DkG,EAAS,IACTI,EAAU,IACVF,EAAO,IAgBL,MAAOK,GACPvG,EAASF,EAAoByG,IAC7B3C,YAAW,WAAQ5D,EAASF,EAAoB,OAAQ,KAhB3C,2CAAH,sDAoBd,OACE,6CAEE,uBAAM+D,SAAUwC,EAAhB,mBACQ,uBAAOvC,UAAY,QAAQG,MAAO8B,EAAO7B,SAAU,YAAiB,IAAdC,EAAa,EAAbA,OAAe6B,EAAS7B,EAAOF,UAAY,uBADzG,UAES,uBAAOH,UAAW,SAASG,MAAOkC,EAAQjC,SAAU,YAAiB,IAAdC,EAAa,EAAbA,OAAeiC,EAAUjC,EAAOF,UAAY,uBAF5G,OAGM,uBAAOH,UAAU,MAAMG,MAAOgC,EAAK/B,SAAU,YAAiB,IAAdC,EAAa,EAAbA,OAAe+B,EAAO/B,EAAOF,UAAY,uBAC7F,uBAAO/D,KAAK,SAAS+D,MAAM,kBC3C7BjD,EAAU,aAaA,GAAEE,OAXN,uCAAG,4BAAAjB,EAAA,sEACUW,IAAMO,IAAIH,GADpB,cACPF,EADO,OAEb0C,QAAQC,IAAI3C,EAASC,MAFR,kBAGND,EAASC,MAHH,2CAAH,qDAWcyF,OALd,uCAAG,WAAOxC,GAAP,eAAA/D,EAAA,sEACUW,IAAMO,IAAN,UAAaH,EAAb,YAAwBgD,IADlC,cACPlD,EADO,yBAENA,EAASC,MAFH,2CAAH,uDCSG0F,EATU,WAAyB,IAAxBpG,EAAuB,uDAAf,GAAIC,EAAW,uCAC/C,OAAQA,EAAOJ,MACf,IAAK,YACH,OAAOI,EAAOoG,MAChB,QACE,OAAOrG,ICMIsG,EAhBE,WACf,IAAMlB,EAAQmB,aAAY,SAAAvG,GAAK,OAAIA,EAAMoF,SAEzC,OACE,8BACE,gCACE,uCACCjC,QAAQC,IAAIgC,GACZA,EAAMoB,MAAK,SAAC5G,EAAG6G,GAAJ,OAAWA,EAAEnB,MAAQ1F,EAAE0F,SAAOD,KAAI,SAAApE,GAAI,OAChD,8BAAmB,cAAC,IAAD,CAAMyF,GAAE,oBAAezF,EAAK0C,IAA5B,SAAmC1C,EAAKyE,SAAjDzE,EAAK0C,aCmBVgD,EA5BE,WACf,IAAMN,EAAQE,aAAY,SAAAvG,GAAK,OAAIA,EAAM4G,aAEzC,OACE,gCACE,uCACA,8BACGP,EAAMhB,KAAI,SAAAjF,GAAI,OAAI,8BACjB,gCACE,kCACE,+BACE,uBACA,0CAEF,+BACE,6BAAI,cAAC,IAAD,CAAMsG,GAAE,oBAAetG,EAAKuD,IAA5B,SAAoCvD,EAAK2B,aAC7C,6BAAK3B,EAAKgF,MAAMyB,kBATKzG,EAAKuD,aCQ3BmD,EAfA,WACb,IAAMnH,EAAWwC,cAOjB,OACE,8BACE,uBAAOtC,KAAK,SAAS4D,UAAU,SAASG,MAAM,SAASe,QAP5C,WACbpC,OAAOC,aAAauE,WAAW,QAC/BxE,OAAOC,aAAawE,QACpBrH,EAASO,EAAgB,WC6Cd+G,EAhDF,SAAE/C,GACb,IAAMgD,EAAeX,aAAY,SAAAvG,GAAK,OAAIA,EAAMmH,cAC1CxH,EAAWwC,cACXwB,EAAKyD,cAAYzD,GACvBR,QAAQC,IAAIc,EAAMkB,OAClB,IAAInE,EAAOiD,EAAMkB,MAAMiC,MAAK,SAAApG,GAAI,OAAIA,EAAK0C,KAAOA,KAEhD,GADAR,QAAQC,IAAInC,IACPA,EACH,OAAO,KAIT,IAAMqG,EAAU,uCAAG,WAAO9F,EAAQ+F,GAAf,SAAA3H,EAAA,sDAEjB,GADgB2C,OAAOiF,QAAP,sBAA8BD,EAAa7B,MAA3C,eAAuD6B,EAAazB,OAApE,MAEd,IACEnG,EAASsF,EAAYzD,IACrB7B,EAASF,EAAoB,GAAD,OAAI8H,EAAa7B,MAAjB,2BAAyCwB,EAAanF,YAClFwB,YAAW,kBAAM5D,EAASF,EAAoB,OAAM,KACpD,MAAMyG,GACNvG,EAASF,EAAoB,8BAC7B8D,YAAW,kBAAM5D,EAASF,EAAoB,OAAM,KATvC,2CAAH,wDAcVgI,EAAI,uCAAG,WAAOjG,EAAQkG,GAAf,SAAA9H,EAAA,sDACX,IACED,EAASqF,EAAUxD,IACnB7B,EAASF,EAAoB,YAAD,OAAaiI,EAAWhC,MAAxB,wBAA6CwB,EAAanF,YACtFwB,YAAW,WAAQ5D,EAASF,EAAoB,OAAQ,KACxD,MAAMyG,GACNvG,EAASF,EAAoByG,IAC7B3C,YAAW,kBAAM5D,EAASF,EAAoB,OAAM,KAP3C,2CAAH,wDAWV,OACE,8BACE,sBAAKgE,UAAU,cAAf,UACGxC,EAAKyE,MADR,OACmBzE,EAAK6E,OADxB,OACmC,mBAAG6B,KAAM1G,EAAK2E,IAAd,SAAoB3E,EAAK2E,MAD5D,UAC4E3E,EAAKqE,MAC/E,wBAAQ1B,MAAM,OAAOH,UAAU,OAAOkB,QAAS,kBAAM8C,EAAKxG,EAAK0C,GAAI1C,IAAnE,kBACA,wBAAQ2C,MAAM,SAASH,UAAU,SAASkB,QAAS,kBAAM2C,EAAWrG,EAAK0C,GAAI1C,IAA7E,0BC1BO2G,EApBF,SAAE1D,GACb,IAAMP,EAAKyD,cAAYzD,GACjBvD,EAAO8D,EAAMmC,MAAMgB,MAAK,SAAAjH,GAAI,OAAIA,EAAKuD,KAAOA,KAClD,OAAKvD,EAKH,gCACE,4BAAIA,EAAK2B,WACT,gCACE,6CACA,6BACG3B,EAAKgF,MAAMC,KAAI,SAAApE,GAAI,OAAI,6BAAmBA,EAAKyE,OAAfzE,EAAK0C,eATrC,MCYX,SAASkE,IACP,OAAQ,0CAGV,IA8EeC,EA9EH,WACV,IAAMhI,EAAeyG,aAAY,SAAAvG,GAAK,OAAIA,EAAMF,gBAC1CoH,EAAeX,aAAY,SAAAvG,GAAK,OAAIA,EAAMmH,cAC1C/B,EAAQmB,aAAY,SAAAvG,GAAK,OAAIA,EAAMoF,SACnCiB,EAAQE,aAAY,SAAAvG,GAAK,OAAIA,EAAM4G,aACnCjH,EAAWwC,cAEjBC,qBAAU,WACRQ,EAAY/B,SAASE,MAAK,SAAAqE,GAAK,OAAIzF,GTnBNoI,ESmBiC3C,ETlBhE,uCAAO,WAAMzF,GAAN,SAAAC,EAAA,sDACLD,EAAS,CACPE,KAAM,kBACNuF,MAAO2C,IAHJ,2CAAP,wDAD8B,IAACA,KSoB7BC,EAAanH,SAASE,MAAK,SAAAsF,GAAK,OAAI1G,GNhCRiH,EMgCkCP,EN/BhE,uCAAO,WAAM1G,GAAN,SAAAC,EAAA,sDACLD,EAAS,CACPE,KAAM,YACNwG,MAAOO,IAHJ,2CAAP,wDAD6B,IAACA,OMiC3B,IAEH,IAAMqB,EAAWC,mBACXC,EAAUD,mBAUhB,OACE,gCACE,6BAAKpI,IACJoH,EACG,eAAC,IAAD,WACA,gCACE,8BAAIA,EAAanF,SAAjB,gBACA,8BACE,+BACE,6BAAI,cAAC,IAAD,CAAM2E,GAAG,IAAT,oBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,aAAT,qBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,aAAT,qBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,aAAT,oBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,UAAT,8BAKV,eAAC,IAAD,WACE,cAAC,IAAD,CAAO0B,KAAK,iBAAZ,SACE,cAAC,EAAD,CAAMhD,MAAOA,MAEf,cAAC,IAAD,CAAOgD,KAAK,iBAAZ,SACE,cAAC,EAAD,CAAM/B,MAAOA,MAEf,cAAC,IAAD,CAAO+B,KAAK,aAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,aAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,aAAZ,SACE,cAAC,EAAD,CAAU1D,SAAS,cAAcP,IAAKgE,EAAtC,SACE,cAAC,EAAD,CAAY1C,WArCT,WACf0C,EAAQE,QAAQ/D,+BAuCR,cAAC,IAAD,CAAO8D,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAACP,EAAD,YAIJ,gCACA,uCACA,cAAC,EAAD,CAAUnD,SAAS,SAASP,IAAK8D,EAAjC,SACE,cAAC,EAAD,CAAOpG,QAvDH,WACZoG,EAASI,QAAQ/D,oC,wBCtBNgE,EATO,WAA4B,IAA3BtI,EAA0B,wDAAXC,EAAW,uCAC/C,OAAQA,EAAOJ,MACf,IAAM,eACJ,OAAQG,EACV,QACE,OAAOA,ICELuI,EAAUC,YAAgB,CAC9BpD,MAAOF,EACPiC,WAAY9G,EACZP,aAAcC,EACd6G,UAAWR,EACXqC,QAASH,IAGLI,EAAQC,YACZJ,EACAK,8BACEC,YAAgBC,OAIpBC,IAASC,OACP,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEFO,SAASC,eAAe,W","file":"static/js/main.5d23fe86.chunk.js","sourcesContent":["export const notificationCreator = (message) => {\n  return async dispatch => {\n    dispatch({\n      type: 'bloglist/create-notification',\n      notification: message\n    })\n  }\n}\n\nconst notificationReducer = (state = '', action) => {\n  switch (action.type) {\n  case 'bloglist/create-notification':\n    return action.notification\n  default:\n    return state\n  }\n}\n\nexport default notificationReducer","\nexport const userLoginSetter = (userToSet) => {\n  return async dispatch => {\n    dispatch({\n      type: 'userLogin/set',\n      user: userToSet\n    })\n  }\n}\n\nconst userLoginReducer = (state='', action) => {\n  switch (action.type) {\n  case 'userLogin/set':\n    return action.user\n  default:\n    return state\n  }\n}\n\nexport default userLoginReducer","\nimport axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async (user) => {\n  const response = await axios.post(baseUrl, user)\n  return response.data\n}\n\nexport default { login }","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = (tokenFromUser) => {\n  token = `bearer ${tokenFromUser}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async (blog) => {\n  const config = {\n    headers: {\n      Authorization: token\n    }\n  }\n  const response = await axios.post(baseUrl, blog, config)\n  return response.data\n}\n\nconst likeBlog = async (blogId) => {\n  if (token) {\n    const config = {\n      headers: {\n        Authorization: token\n      }\n    }\n    const response = await axios.put(`${baseUrl}/${blogId}`, config)\n    return response.data\n  }\n}\n\nconst deleteBlog = async (blogId) => {\n  if (token) {\n    const config = {\n      headers: {\n        Authorization: token\n      }\n    }\n    const response = await axios.delete(`${baseUrl}/${blogId}`, config)\n    return response.data\n  }\n}\n\nexport default { getAll, create, setToken, likeBlog, deleteBlog }","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { useDispatch } from 'react-redux'\nimport { notificationCreator } from '../reducers/notificationReducer'\nimport { userLoginSetter } from '../reducers/userLoginReducer userLoginReducer'\nimport loginService from '../services/login'\nimport blogService from '../services/blogs'\n\n\nconst Login = ({ onLogin }) => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    let isMounted = true\n    const loggedUserJSON = window.localStorage.getItem('loggedUserJSON')\n    if (isMounted && loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      dispatch(userLoginSetter(user))\n      blogService.setToken(user.token)\n    }\n    return () => { isMounted = false }\n  }, [])\n\n  const loginSubmit = async (event) => {\n    event.preventDefault()\n    const userToLogin = {\n      username: username,\n      password: password\n    }\n    try {\n      onLogin(userToLogin)\n      const loggedUser = await loginService.login(userToLogin) // services.login(username, passwordtel )\n      console.log(loggedUser)\n      dispatch(userLoginSetter(loggedUser))\n      window.localStorage.setItem('loggedUserJSON', JSON.stringify(loggedUser))\n      return loggedUser\n    } catch(err) {\n      console.log(err)\n      dispatch(notificationCreator('invalid username or password'))\n      setTimeout(() => { dispatch(notificationCreator('')) }, 3000)\n    }\n    setUsername('')  // GETTING WARNING. FIX IT!!!\n    setPassword('')\n  }\n\n\n  return (\n    <div>\n      <form onSubmit={loginSubmit}>\n        username <input type='text' className='username' name='username' id='getUsername' value={username} onChange={({ target }) => setUsername(target.value)} /><br />\n        password <input type='text' className='password' name='password' id='getPassword' value={password} onChange={({ target }) => setPassword(target.value)} />\n        <input type='submit' name='submit' id='submitForm' value='Submit' />\n      </form>\n    </div>\n  )\n}\n\nLogin.propTypes = {\n  onLogin: PropTypes.func.isRequired\n}\n\nexport default Login","import React, { useState, useImperativeHandle } from 'react'\nimport PropTypes from 'prop-types'\n\n// change the Toggle so that it uses redux state. take off all the refs froom the app. Refactor the app so that everything was in its own componennt\n\n\nconst Toggable = React.forwardRef((props, ref) => {\n  const [formVisible, setFormVisible] = useState(false)\n\n  const handleCreateBlogClick = () => {\n    setFormVisible(!formVisible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      handleCreateBlogClick\n    }\n  })\n\n  return (\n    <div>\n      <div style={{ display: formVisible ? 'None' : '' }}>\n        <input className={props.btnLabel} type='button' value={props.btnLabel} onClick={handleCreateBlogClick} />\n      </div>\n      <div style={{ display: formVisible ? '' : 'None' }} className='show-child'>\n        {props.children}\n        <input type='button' value='cancel' onClick={handleCreateBlogClick} />\n      </div>\n    </div>\n  )\n})\n\nToggable.displayName = 'Toggable'\nToggable.propTypes = { btnLabel: PropTypes.string.isRequired }\n\nexport default Toggable","import blogService from '../services/blogs'\n\nexport const blogCreator = (blogToPost) => {\n  return async dispatch => {\n    await blogService.create(blogToPost)\n    dispatch({\n      type: 'blog/create',\n      blog: blogToPost\n    })\n  }\n}\n\nexport const blogsInitializer = (blogsToInitialize) => {\n  return async dispatch => {\n    dispatch({\n      type: 'blog/initialize',\n      blogs: blogsToInitialize\n    })\n  }\n}\n\nexport const blogLiker = (blogId) => {\n  return async dispatch => {\n    await blogService.likeBlog(blogId)\n    dispatch({\n      type: 'blog/like',\n      id: blogId\n    })\n  }\n}\n\nexport const blogRemover = (blogId) => {\n  return async dispatch => {\n    await blogService.deleteBlog(blogId)\n    dispatch({\n      type: 'blog/remove',\n      id: blogId\n    })\n  }\n}\n\n// export const blogDetails = (blogId) => {\n//   return async dispatch => {\n//     dispatch({\n//       type: ''\n//     })\n//   }\n// }\n\nconst blogsReducer = (state = [], action) => {\n  switch (action.type) {\n  case 'blog/create':\n    return state.concat(action.blog)\n  case 'blog/initialize':\n    return action.blogs\n  case 'blog/like':\n    return state.map(blog => {\n      if (action.id === blog.id) {\n        blog.likes += 1\n      }\n      return blog\n    })\n  case 'blog/remove':\n    return state.filter(blog => blog.id !== action.id)\n  default:\n    return state\n  }\n}\n\nexport default blogsReducer","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { notificationCreator } from '../reducers/notificationReducer'\nimport { blogCreator } from '../reducers/blogsReducer'\n\nconst CreateForm = ({ onBlogPost }) => {\n  const [title, setTitle] = useState('')\n  const [url, setUrl] = useState('')\n  const [author, setAuthor] = useState('')\n  const dispatch = useDispatch()\n\n  const clearForm = () => {\n    setTitle('')\n    setAuthor('')\n    setUrl('')\n  }\n  const postBlog = async (event) => {\n    event.preventDefault()\n    try {\n      onBlogPost()\n      const blogToPost = {\n        title: title,\n        author: author,\n        url: url,\n        details: false\n      }\n      dispatch(blogCreator(blogToPost))\n      dispatch(notificationCreator(`a new blog ${blogToPost.title} by ${blogToPost.author}`))\n      setTimeout(() => { dispatch(notificationCreator('')) }, 3000)\n      clearForm()\n    } catch (error) {\n      dispatch(notificationCreator(error))\n      setTimeout(() => { dispatch(notificationCreator('')) }, 3000)\n    }\n  }\n\n  return (\n    <div>\n      Create new\n      <form onSubmit={postBlog}>\n        title <input className = 'title' value={title} onChange={({ target }) => { setTitle(target.value)} } /><br />\n        author <input className ='author' value={author} onChange={({ target }) => { setAuthor(target.value)} } /><br />\n        url <input className='url' value={url} onChange={({ target }) => { setUrl(target.value)} } /><br />\n        <input type='submit' value='create' />\n      </form>\n    </div>\n  )\n}\n\nCreateForm.propTypes = {\n  onBlogPost: PropTypes.func.isRequired\n}\n\nexport default CreateForm","import axios from 'axios'\nconst baseUrl = '/api/users'\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  console.log(response.data)\n  return response.data\n}\n\nconst getOne = async (id) => {\n  const response = await axios.get(`${baseUrl}/${id}`)\n  return response.data\n}\n\nexport default  { getAll, getOne }\n","export const usersInfoSetter = (usersInfo) => {\n  return async dispatch => {\n    dispatch({\n      type: 'user/info',\n      users: usersInfo\n    })\n  }\n}\n\nconst usersInfoReducer = (state = [], action) => {\n  switch (action.type) {\n  case 'user/info':\n    return action.users\n  default:\n    return state\n  }\n}\n\nexport default usersInfoReducer","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nconst BlogList = () => {\n  const blogs = useSelector(state => state.blogs)\n\n  return (\n    <div>\n      <div>\n        <h2>blogs</h2>\n        {console.log(blogs)}\n        {blogs.sort((a, b) =>  b.likes - a.likes).map(blog =>\n          <div key={blog.id}><Link to={`blog-list/${blog.id}`}>{blog.title}</Link></div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default BlogList","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nconst UserList = () => {\n  const users = useSelector(state => state.usersInfo)\n\n  return (\n    <div>\n      <h1>Users</h1>\n      <div>\n        {users.map(user => <div key={user.id}>\n          <table>\n            <tbody>\n              <tr>\n                <th></th>\n                <th>Blogs</th>\n              </tr>\n              <tr>\n                <td><Link to={`user-list/${user.id}`} >{user.username}</Link></td>\n                <td>{user.blogs.length}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>)}\n      </div>\n    </div>\n  )\n}\n\n\n\nexport default UserList","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { userLoginSetter } from '../reducers/userLoginReducer userLoginReducer'\n\nconst Logout = () => {\n  const dispatch = useDispatch()\n\n  const logout = () => {\n    window.localStorage.removeItem('user')\n    window.localStorage.clear()\n    dispatch(userLoginSetter(''))\n  }\n  return (\n    <div>\n      <input type='button' className='logout' value='logout' onClick={logout} />\n    </div>\n  )\n}\n\nexport default Logout","import React from 'react'\n// import PropTypes from 'prop-types'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { blogRemover, blogLiker } from '../reducers/blogsReducer'\nimport { notificationCreator } from '../reducers/notificationReducer'\nimport { useParams } from 'react-router-dom'\n\nconst Blog = ( props ) => {\n  const userLoggedIn = useSelector(state => state.userLogged)\n  const dispatch = useDispatch()\n  const id = useParams().id\n  console.log(props.blogs)\n  let blog = props.blogs.find(blog => blog.id === id)\n  console.log(blog)\n  if (!blog) {\n    return null\n  }\n\n\n  const removeBlog = async (blogId, blogToRemove) => {\n    const confirm = window.confirm(`Remove blog ${blogToRemove.title} by ${blogToRemove.author}?`)\n    if (confirm) {\n      try {\n        dispatch(blogRemover(blogId))\n        dispatch(notificationCreator(`${blogToRemove.title} was deleted by ${userLoggedIn.username}`))\n        setTimeout(() => dispatch(notificationCreator('')), 3000)\n      } catch(error) {\n        dispatch(notificationCreator('missing or invalid token.'))\n        setTimeout(() => dispatch(notificationCreator('')), 3000)\n      }\n    }\n  }\n\n  const like = async (blogId, blogToLike) => { // Chnage name of function\n    try {\n      dispatch(blogLiker(blogId))\n      dispatch(notificationCreator(`the blog ${blogToLike.title} is liked by ${userLoggedIn.username}`))\n      setTimeout(() => { dispatch(notificationCreator('')) }, 3000)\n    } catch(error) {\n      dispatch(notificationCreator(error))\n      setTimeout(() => dispatch(notificationCreator('')), 3000)\n    }\n  }\n\n  return (\n    <div>\n      <div className='detail-view'>\n        {blog.title} by {blog.author} on <a href={blog.url}>{blog.url}</a> likes {blog.likes}\n        <button value='like' className='like' onClick={() => like(blog.id, blog)} >like</button>\n        <button value='delete' className='delete' onClick={() => removeBlog(blog.id, blog)} >delete</button>\n      </div>\n    </div>\n  )\n}\n\nexport default Blog","import React from 'react'\nimport { useParams } from 'react-router'\n\nconst User = ( props ) => {\n  const id = useParams().id\n  const user = props.users.find(user => user.id === id)\n  if (!user) {\n    return null\n  }\n\n  return (\n    <div>\n      <p>{user.username}</p>\n      <div>\n        <h2>Added blogs</h2>\n        <ul>\n          {user.blogs.map(blog => <li key={blog.id}>{blog.title}</li>)}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default User","import React, { useRef, useEffect } from 'react'\nimport {\n  BrowserRouter as Router, Switch,Route,Link\n} from 'react-router-dom'\nimport Login from './components/Login'\nimport Toggable from './components/Toggable'\nimport CreateForm from './components/BlogForm'\nimport blogService from './services/blogs'\nimport userServices from './services/users'\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport { blogsInitializer } from './reducers/blogsReducer'\nimport { usersInfoSetter } from './reducers/usersInfoReducer'\nimport BlogList from './components/BlogList'\nimport UserList from './components/UserList'\nimport Logout from './components/Logout'\nimport Blog from './components/Blog'\nimport User from './components/User'\n\nfunction Home() {\n  return (<div>Welcome</div>)\n}\n\nconst App = () => {\n  const notification = useSelector(state => state.notification)\n  const userLoggedIn = useSelector(state => state.userLogged)\n  const blogs = useSelector(state => state.blogs)\n  const users = useSelector(state => state.usersInfo)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    blogService.getAll().then(blogs => dispatch( blogsInitializer(blogs) ))\n    userServices.getAll().then(users => dispatch( usersInfoSetter(users) ))\n  }, [])\n\n  const loginRef = useRef()\n  const blogRef = useRef()\n\n  const login = () => {\n    loginRef.current.handleCreateBlogClick()\n  }\n\n  const postBlog = () => {\n    blogRef.current.handleCreateBlogClick()\n  }\n\n  return (\n    <div>\n      <h3>{notification}</h3>\n      {userLoggedIn\n        ? <Router>\n          <div>\n            <p>{userLoggedIn.username} logged in</p>\n            <nav>\n              <ul>\n                <li><Link to='/'>Home</Link></li>\n                <li><Link to='/blog-list'>Blogs</Link></li>\n                <li><Link to='/user-list'>Users</Link></li>\n                <li><Link to='/post-blog'>Post</Link></li>\n                <li><Link to='/logout'>Logout</Link></li>\n              </ul>\n            </nav>\n          </div>\n\n          <Switch>\n            <Route path='/blog-list/:id'>\n              <Blog blogs={blogs}/>\n            </Route>\n            <Route path='/user-list/:id'>\n              <User users={users} />\n            </Route>\n            <Route path='/blog-list'>\n              <BlogList />\n            </Route>\n            <Route path='/user-list'>\n              <UserList />\n            </Route>\n            <Route path='/post-blog'>\n              <Toggable btnLabel='create-blog' ref={blogRef} >\n                <CreateForm onBlogPost={postBlog} />\n              </Toggable>\n            </Route>\n            <Route path='/logout'>\n              <Logout />\n            </Route>\n            <Route path='/'>\n              <Home />\n            </Route>\n          </Switch>\n        </Router>\n        : <div>\n          <h2>Login</h2>\n          <Toggable btnLabel='log-in' ref={loginRef} >\n            <Login onLogin={login} />\n          </Toggable>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default App","export const toggleTheState = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'state/toggle'\n    })\n  }\n}\n\nconst toggleReducer = (state = false, action) => {\n  switch (action.type) {\n  case  'state/toggle':\n    return !state\n  default:\n    return state\n  }\n}\n\nexport default toggleReducer\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { createStore, combineReducers, applyMiddleware } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunk from 'redux-thunk'\nimport { Provider } from 'react-redux'\n\nimport notificationReducer from './reducers/notificationReducer'\nimport blogsReducer from './reducers/blogsReducer'\nimport userLoginReducer from './reducers/userLoginReducer userLoginReducer'\nimport usersInfoReducer from './reducers/usersInfoReducer'\nimport toggleReducer from './reducers/toggableReducer'\n\n\nconst reducer = combineReducers({\n  blogs: blogsReducer,\n  userLogged: userLoginReducer,\n  notification: notificationReducer,\n  usersInfo: usersInfoReducer,\n  visible: toggleReducer\n})\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(\n    applyMiddleware(thunk)\n  )\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}